# Smithery configuration file for MySQL MCP Server
name: "mysql-mcp-python-server"
description: "A MySQL MCP server that provides access to MySQL databases using Python"
logo: "./logo.png"

settings:
  configurable: true
  schema:
    type: object
    properties:
      host:
        type: string
        description: "MySQL server host address"
        default: "localhost"
      port:
        type: integer
        description: "MySQL server port"
        default: 3306
      user:
        type: string
        description: "MySQL username"
      password:
        type: string
        description: "MySQL password"
        format: password
      database:
        type: string
        description: "MySQL database name (optional)"
    required:
      - host
      - user
      - password

startCommand:
  type: stdio
  configSchema:
    type: object
    required:
      - mysqlHost
      - mysqlUser
      - mysqlPassword
      - mysqlDatabase
    properties:
      mysqlHost:
        type: string
        description: Hostname for the MySQL server
      mysqlUser:
        type: string
        description: MySQL user name
      mysqlPassword:
        type: string
        description: MySQL user's password
      mysqlDatabase:
        type: string
        description: MySQL database name
  commandFunction: |-
    (config) => ({
      command: 'python3',
      args: ['mcp_server.py'],
      env: {
        MYSQL_HOST: config.mysqlHost,
        MYSQL_USER: config.mysqlUser,
        MYSQL_PASSWORD: config.mysqlPassword,
        MYSQL_DATABASE: config.mysqlDatabase
      }
    })
  exampleConfig:
    mysqlHost: localhost
    mysqlUser: example_user
    mysqlPassword: example_password
    mysqlDatabase: example_db

deployment:
  type: "docker"
  dockerfile: "./Dockerfile"
  healthCheck:
    path: "/"
    timeout: 30
  resources:
    memory: "512Mi"
    cpu: "0.5"
    
tools:
  connect_db:
    description: "Connect to a MySQL database"
    parameters:
      properties:
        host:
          type: string
          description: "MySQL server hostname or IP address"
          default: "localhost"
        port:
          type: integer
          description: "MySQL server port"
          default: 3306
        user:
          type: string
          description: "MySQL username"
        password:
          type: string
          description: "MySQL password"
          format: password
        database:
          type: string
          description: "Database name (optional)"
      required:
        - host
        - user
        - password
  list_databases:
    description: "List all accessible databases"
    parameters:
      properties: {}
  list_tables:
    description: "List all tables in a database"
    parameters:
      properties:
        database:
          type: string
          description: "Database name (optional, uses default if connected)"
  describe_table:
    description: "Show the schema for a table"
    parameters:
      properties:
        table:
          type: string
          description: "Table name"
        database:
          type: string
          description: "Database name (optional, uses default if connected)"
      required:
        - table
  execute_query:
    description: "Execute a read-only SQL query"
    parameters:
      properties:
        query:
          type: string
          description: "SQL query (only SELECT, SHOW, DESCRIBE, and EXPLAIN allowed)"
        database:
          type: string
          description: "Database name (optional, uses default if connected)"
      required:
        - query 